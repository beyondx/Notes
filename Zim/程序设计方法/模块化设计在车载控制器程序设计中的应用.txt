Content-Type: text/x-zim-wiki
Wiki-Format: zim 0.4
Creation-Date: 2011-08-04T21:33:06+08:00

====== 模块化设计在车载控制器程序设计中的应用 ======
Created Thursday 04 August 2011
0 引言

　　在现代化生产中，车辆占据着重要的地位，它是生产运输的重要运输工具，关系到生产安全和生产效率。车辆电气系统是车辆重要的组成部分，其中主控制器控制着整个电气系统，其程序的编写是设计中的重点。但车辆的型号不同导致电气系统有不同的组成和要求，从而电气系统主控制器的程序要求不同，经过实践检验的代码不能重复利用，这使设计部门花费大量的时间和精力编写、调试主控制器程序。针对上述情况，本文将模块化设计应用于车辆电气系统主控制器程序的设计中，利用功能模块可以重复利用的特点，从而达到提高设计的效率和程序兼容性的目的，实现新型矿车电气系统主控制器程序的高效率、高质量开发。

　　1 模块化设计

　　模块化设计是在对一定范围内的不同功能或相同功能不同性能、不同规格的产品进行功能分析的基础上，划分并设计出一系列功能模块。通过模块的选择和组合可以构成不同的产品，以满足市场不同需求的设计方法，同时大大降低了难度，避免了重复劳动，获得了较高的程序质量，提高了程序开发的速度。

　　模块化编程的基本思想首先出现在高级语言编程应用中，但这种思想也适用于车载控制器程序的开发。程序的模块划分一般采用自上向下，逐步分解的方法进行。车载控制器程序一般可分为参数设置部分、数据采集部分、数据处理部分、报警处理部分、控制部分、执行输出部分，程序流程图见图1。
{{./1.jpg}}
　　这几个部分可以单独进行设计、调试和管理。现场调试前就可以通过仿真模拟，排除一部分程序上的错误。在现场调试时，通过对每个功能模块的监视，迅速发现存在的问题，缩短减少调试强度，缩短调试时间。在控制要求改变时，只在相应的模块中做适当修改即可，这给电气系统的升级提供了方便的条件。

　　2 应用

　　现以某型号的矿用车辆的车载主控制器的程序为例说明模块化思想在程序设计中的应用。该产品的电气系统由控制器、继电器、接触器、电机、操作台、车载显示器及各种传感器等组成。控制系统的工作过程是上电后系统自检，首先确定系统能正常工作，然后根据操作台的指令做出相应的动作。控制器程序的功能模块如图2所示。
{{./2.jpg}}
　　将程序按功能用合适的语言编写成子程序在主程序中调用。这样在程序开发过程中，可以有多个人并行编写、测试不同的模块，减少了研发时间。同时参数设置、数据采集等模块在不同型号的矿车电气控制系统中的功能基本不变，稍作改动即可使用，避免了重复开发，其他模块的使用也是如此。特别是这些经过严格现场测试的代码用在新型的矿车电气控制系统中增加了系统的可靠性。在调试过程中，可以根据现场出现问题的现象迅速定位具有问题的代码段，减轻了调试的压力。

　　3 结语

　　提出将模块化设计的思想应用于车辆电气控制系统控制器程序的设计中。程序的模块化设计不仅减少了程序的开发时间，减轻了设计人员的工作量，还使程序思路更清晰，维护更简易，可读性、可移植性，可靠性增强，同时也给下一代产品的开发创造了有利条件。实践也证明将模块化设计应用于矿车电气系统控制器程序的可行性与合理性。随着模块化设计在控制器程序设计中的深入，必将带来模块的标准化的问题。这个问题在很多跨国自动化公司控制系统程序设计中得到了有效的解决，取得了一定的市场竞争力。车辆电气系统控制器程序的模块化、标准化的发展必将有效提高车载电气系统的整体性能。
